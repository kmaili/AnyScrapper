<div class="task-config-container">
  <h3 class="section-title">Configure Your Task</h3>
  <p class="section-subtitle">Set up the task details and preferences.</p>
  <form (ngSubmit)="submitTask()" class="config-form">
    <div class="form-group">
      <label for="taskName" class="form-label">Workflow Name</label>
      <input id="taskName" [(ngModel)]="workflow.name" name="taskName" placeholder="e.g., Product Prices" class="form-input" required>
    </div>
    <div class="form-group">
      <label for="startUrl" class="form-label">Start URL</label>
      <input [value]="workflow.startUrl" class="form-input" disabled>
    </div>
    <div class="form-group">
      <label class="form-label">Workflow Steps</label>
      <div class="steps-list">
        <ngx-json-viewer [json]="workflow.steps"></ngx-json-viewer>
      </div>
    </div>
    <div class="form-group scheduling-section">
      <label class="form-label checkbox-label">
        <input type="checkbox" [(ngModel)]="workflow.isScheduled" name="isScheduled" id="isScheduled">
        <span>Schedule Workflow</span>
      </label>
      <div class="schedule-config" *ngIf="workflow.isScheduled">
        <div class="form-group">
          <label for="scheduleTime" class="form-label">Schedule Time</label>
          <input type="time" id="scheduleTime" [(ngModel)]="workflow.scheduleStartTime" name="scheduleTime" class="form-input" required>
        </div>
        <div class="form-group">
          <label for="scheduleFrequency" class="form-label">Frequency</label>
          <select id="scheduleFrequency" [(ngModel)]="workflow.scheduleFrequency" name="scheduleFrequency" class="form-input" required>
            <option value="" disabled selected>Select Frequency</option>
            <option value="once">Once</option>
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
          </select>
        </div>
      </div>
    </div>
    <div *ngIf="validationErrors.length > 0" class="validation-errors">
        <p class="text-danger" *ngFor="let error of validationErrors">{{ error }}</p>
      </div>
    <div class="form-actions">
      <button type="button" class="action-btn secondary" (click)="cancelTask()">Cancel</button>
      <button type="submit" class="action-btn primary">Create Workflow</button>
    </div>
  </form>
</div>